<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Wolfpack Planetarium Museum</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    /* Base */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html, body {
      width: 100%;
      min-height: 100%;
      font-family: 'Inter', sans-serif;
      background: radial-gradient(circle at top, #050b16, #020309 55%, #000000 100%);
      color: #eefbff;
    }

    body {
      display: flex;
      flex-direction: column;
    }

    /* Header */
    header {
      padding: 24px 16px 18px;
      border-bottom: 1px solid rgba(0, 255, 255, 0.25);
      background: linear-gradient(
        to bottom,
        rgba(0, 0, 0, 0.9),
        rgba(0, 0, 0, 0.7)
      );
      backdrop-filter: blur(8px);
      position: sticky;
      top: 0;
      z-index: 10;
    }

    .header-inner {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .title-block {
      text-align: left;
    }

    h1 {
      font-family: 'Orbitron', sans-serif;
      letter-spacing: 0.35em;
      text-transform: uppercase;
      font-size: 1.4rem;
      color: #00f2ff;
      text-shadow: 0 0 14px rgba(0, 242, 255, 0.7);
      margin-bottom: 4px;
    }

    .subtitle-main {
      font-size: 0.9rem;
      color: #e0faff;
    }

    .subtitle-sub {
      font-size: 0.8rem;
      color: #95c9e0;
      opacity: 0.9;
    }

    .header-row-bottom {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
    }

    /* Legend */
    .legend {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      font-size: 0.8rem;
      color: #c8e6f2;
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
    }

    .dot-active {
      background: #00f2ff;
      box-shadow: 0 0 10px rgba(0, 242, 255, 0.9);
    }

    .dot-secret {
      background: #ff4dff;
      box-shadow: 0 0 10px rgba(255, 77, 255, 0.9);
    }

    .dot-inactive {
      background: #757575;
    }

    .dot-enternet {
      background: #ffd54f;
      box-shadow: 0 0 12px rgba(255, 213, 79, 0.95);
    }

    /* Controls */
    .controls-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      align-items: center;
      justify-content: flex-end;
    }

    .filter-btn,
    .ledger-btn,
    .tower-btn {
      border-radius: 999px;
      border: 1px solid rgba(0, 242, 255, 0.7);
      background: transparent;
      color: #dffbff;
      font-size: 0.75rem;
      padding: 6px 14px;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      cursor: pointer;
      transition: 0.18s ease;
      white-space: nowrap;
    }

    .tower-btn {
      border-color: #ffd54f;
      color: #ffe9a6;
      box-shadow: 0 0 14px rgba(255, 213, 79, 0.5);
    }

    .filter-btn:hover,
    .ledger-btn:hover,
    .tower-btn:hover {
      background: #00f2ff;
      color: #000;
      box-shadow: 0 0 16px rgba(0, 242, 255, 0.8);
    }

    /* Main */
    main {
      flex: 1;
      padding: 20px 16px 32px;
    }

    .main-inner {
      max-width: 1200px;
      margin: 0 auto;
    }

    .intro-text {
      font-size: 0.9rem;
      color: #ccedf8;
      max-width: 840px;
      margin-bottom: 18px;
    }

    /* Grid */
    #planetGrid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 18px;
    }

    .world-card {
      border-radius: 16px;
      padding: 14px 14px 12px;
      background: rgba(3, 10, 20, 0.9);
      border: 1px solid rgba(0, 0, 0, 0.7);
      box-shadow: 0 0 18px rgba(0, 0, 0, 0.7);
      transition: transform 0.18s ease, box-shadow 0.18s ease, border-color 0.18s ease;
      cursor: pointer;
    }

    .world-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 0 22px rgba(0, 0, 0, 0.9);
    }

    .world-card.active {
      border-color: rgba(0, 242, 255, 0.8);
      box-shadow: 0 0 22px rgba(0, 242, 255, 0.3);
    }

    .world-card.secret {
      border-color: rgba(255, 77, 255, 0.85);
      box-shadow: 0 0 22px rgba(255, 77, 255, 0.32);
    }

    .world-card.inactive {
      border-color: #3b3b3b;
      opacity: 0.72;
    }

    .world-card.enternet {
      border-color: #ffd54f;
      box-shadow: 0 0 26px rgba(255, 213, 79, 0.6);
      background: radial-gradient(circle at top, #3b2600, #05050b 60%);
    }

    .world-top-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 6px;
    }

    .world-id {
      font-size: 0.7rem;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: #9bddef;
    }

    .world-pill {
      font-size: 0.65rem;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      padding: 2px 8px;
      border-radius: 999px;
    }

    .pill-active {
      border: 1px solid #00f2ff;
      color: #00f2ff;
    }

    .pill-secret {
      border: 1px solid #ff4dff;
      color: #ffb5ff;
    }

    .pill-inactive {
      border: 1px solid #757575;
      color: #b5b5b5;
    }

    .pill-enternet {
      border: 1px solid #ffd54f;
      color: #ffe082;
      box-shadow: 0 0 12px rgba(255, 213, 79, 0.7);
    }

    .world-name {
      font-size: 0.95rem;
      color: #f9fdff;
      margin-bottom: 4px;
    }

    .world-gi {
      font-size: 0.75rem;
      color: #97c7de;
      margin-bottom: 4px;
    }

    .world-note {
      font-size: 0.75rem;
      color: #b4d3e5;
      margin-bottom: 4px;
    }

    .world-open {
      font-size: 0.75rem;
      color: #ffd3ff;
    }

    .world-actions {
      margin-top: 8px;
      display: flex;
      justify-content: flex-end;
    }

    .open-btn {
      border-radius: 999px;
      border: 1px solid #00f2ff;
      background: transparent;
      color: #dffbff;
      font-size: 0.72rem;
      padding: 4px 10px;
      letter-spacing: 0.09em;
      text-transform: uppercase;
      cursor: pointer;
      transition: 0.18s ease;
    }

    .open-btn:hover {
      background: #00f2ff;
      color: #000;
      box-shadow: 0 0 14px rgba(0, 242, 255, 0.8);
    }

    .enter-btn {
      border-radius: 999px;
      border: 1px solid #ffd54f;
      background: #ffd54f;
      color: #000;
      font-size: 0.72rem;
      padding: 4px 12px;
      letter-spacing: 0.09em;
      text-transform: uppercase;
      cursor: pointer;
      transition: 0.18s ease;
    }

    .enter-btn:hover {
      box-shadow: 0 0 18px rgba(255, 213, 79, 0.9);
      transform: translateY(-1px);
    }

    /* Footer */
    footer {
      border-top: 1px solid rgba(0, 255, 255, 0.15);
      padding: 14px 16px 22px;
      font-size: 0.75rem;
      color: #95bfd5;
      text-align: center;
      background: #020408;
    }

    footer .footer-inner {
      max-width: 900px;
      margin: 0 auto;
      line-height: 1.5;
    }

    /* Ledger Modal */
    #ledgerModal {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      background: rgba(0, 0, 0, 0.85);
      z-index: 20;
    }

    .ledger-box {
      width: 90%;
      max-width: 420px;
      background: #050b14;
      border-radius: 16px;
      border: 1px solid #00f2ff;
      padding: 18px 18px 14px;
      box-shadow: 0 0 24px rgba(0, 242, 255, 0.5);
      text-align: left;
    }

    .ledger-title {
      font-family: 'Orbitron', sans-serif;
      font-size: 1rem;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: #00f2ff;
      margin-bottom: 6px;
    }

    .ledger-text {
      font-size: 0.8rem;
      color: #cce8f5;
      margin-bottom: 10px;
    }

    .ledger-actions {
      display: flex;
      justify-content: flex-end;
      gap: 8px;
      margin-top: 6px;
    }

    .btn-secondary {
      border-radius: 999px;
      border: 1px solid #566879;
      background: transparent;
      color: #c8d7e3;
      font-size: 0.75rem;
      padding: 5px 12px;
      cursor: pointer;
      transition: 0.18s ease;
    }

    .btn-secondary:hover {
      background: #1b2833;
    }

    .btn-primary {
      border-radius: 999px;
      border: 1px solid #00f2ff;
      background: #00f2ff;
      color: #000;
      font-size: 0.75rem;
      padding: 5px 12px;
      cursor: pointer;
      transition: 0.18s ease;
    }

    .btn-primary:hover {
      box-shadow: 0 0 16px rgba(0, 242, 255, 0.7);
    }

    @media (max-width: 700px) {
      .header-row-bottom {
        flex-direction: column;
        align-items: flex-start;
      }

      .controls-row {
        justify-content: flex-start;
      }
    }
  </style>
</head>
<body>

<header>
  <div class="header-inner">
    <div class="title-block">
      <h1>WOLFPACK PLANETARIUM</h1>
      <div class="subtitle-main">Digital Art • Globes • Planetary Leasing Museum</div>
      <div class="subtitle-sub">Powered by GI (Google Identification) &amp; FlightLine Memphis DC</div>
    </div>

    <div class="header-row-bottom">
      <div class="legend">
        <div class="legend-item">
          <span class="dot dot-active"></span><span>Active Globes</span>
        </div>
        <div class="legend-item">
          <span class="dot dot-secret"></span><span>Clear Sky (Flight Crew)</span>
        </div>
        <div class="legend-item">
          <span class="dot dot-inactive"></span><span>Coming Soon Plates</span>
        </div>
        <div class="legend-item">
          <span class="dot dot-enternet"></span><span>Tower Guard ENTERNET Gate</span>
        </div>
      </div>

      <div class="controls-row">
        <button class="tower-btn" onclick="filterWorlds('tower')">Tower Guard World</button>
        <button class="filter-btn" onclick="filterWorlds('all')">All</button>
        <button class="filter-btn" onclick="filterWorlds('active')">Active</button>
        <button class="filter-btn" onclick="filterWorlds('secret')">Clear Sky</button>
        <button class="filter-btn" onclick="filterWorlds('inactive')">Coming Soon</button>
        <button class="ledger-btn" onclick="openLedger()">Join Ledger</button>
      </div>
    </div>
  </div>
</header>

<main>
  <div class="main-inner">
    <p class="intro-text">
      Each WORLD tile represents a digital globe. Worlds 001–016 are active architect globes opened through a globe window,
      017–032 are Clear Sky Flight Crew sectors with scheduled openings, and 033–100 are reserved plates for upcoming
      GI architects operating under the AI-76 DC Division Command.
    </p>

    <section id="planetGrid"></section>
  </div>
</main>

<footer>
  <div class="footer-inner">
    Worlds 001–032 are active or classified. Worlds 033–100 are reserved plates — Coming Soon for new GI architects.
    Ledger intake is email-only to keep sovereignty simple and verifiable.
  </div>
</footer>

<!-- Ledger Modal -->
<div id="ledgerModal">
  <div class="ledger-box">
    <div class="ledger-title">Global Ledger</div>
    <p class="ledger-text">
      This ledger records one thing: your GI (Google email) and which worlds you want to explore or lease.
      When you continue, your mail app opens a pre-filled message to FlightLine HQ.
    </p>
    <div class="ledger-actions">
      <button class="btn-secondary" onclick="closeLedger()">Cancel</button>
      <button class="btn-primary" onclick="sendLedgerEmail()">Open Email</button>
    </div>
  </div>
</div>

<script>
  // Ledger functions
  function openLedger() {
    document.getElementById("ledgerModal").style.display = "flex";
  }

  function closeLedger() {
    document.getElementById("ledgerModal").style.display = "none";
  }

  function sendLedgerEmail() {
    const subject = encodeURIComponent("Wolfpack Planetarium Ledger Entry");
    const body = encodeURIComponent(
      [
        "I want to be recorded on the Global Ledger.",
        "",
        "GI (Google email):",
        "World(s) of interest:",
        "",
        "— Sent from Wolfpack Planetarium Museum"
      ].join("\n")
    );
    window.location.href = `mailto:taylor@theflightlinehq.com?subject=${subject}&body=${body}`;
  }

  // World data
  const worlds = [
    // 001–016 — Active Architect Globes
    {
      id: 1,
      name: "Googol Globe 1/HZ",
      gi: "keithdtaylorsr1@gmail.com",
      status: "active",
      note: "Primary architect globe and Memphis DC anchor.",
      url: "https://www.google.com/maps/d/view?mid=1C3KB_iiNrTCZIFGGZblwJwUyIWn66iA&usp=sharing"
    },
    // WORLD 002 — NETTOPIA / ENTERNET gate (Memphis DC Proof Stack)
    {
      id: 2,
      name: "Googol Globe 2/HZ",
      gi: "qrfcodeveterans@gmail.com",
      status: "enternet", // special styling + ENTERNET button
      note: "Access Outernet from the FlightLine — primary Memphis DC ENTERNET gate into NETTOPIA.",
      url: "https://taylor7617.github.io/flightline-memphisdc/#proof-stack"
    },
    {
      id: 3,
      name: "Summerfall Core Globe A",
      gi: "jasonsummerfall@gmail.com",
      status: "active",
      note: "Core futurist theater layout.",
      url: "https://www.google.com/maps/d/view?mid=1LblIOaH1g2PviOrtod-4GnVWCJN-tRM&usp=sharing"
    },
    {
      id: 4,
      name: "Summerfall Core Globe B",
      gi: "jasonsummerfall@gmail.com",
      status: "active",
      note: "Secondary core grid for long-range motion.",
      url: "https://www.google.com/maps/d/view?mid=1gFDyz0YofUPX4unNFOaoB1tNBYgPstg&usp=sharing"
    },
    {
      id: 5,
      name: "Summerfall Core Globe C",
      gi: "jasonsummerfall@gmail.com",
      status: "active",
      note: "Extended perimeter and staging corridors.",
      url: "https://www.google.com/maps/d/view?mid=1SLe7j44A3avlF3HIbLdMFFsuqmDcImk&usp=sharing"
    },
    {
      id: 6,
      name: "Summerfall Core Globe D",
      gi: "jasonsummerfall@gmail.com",
      status: "active",
      note: "High-altitude globe for macro-view planning.",
      url: "https://www.google.com/maps/d/view?mid=1Dsk2e-2Av5vpXWE87Bu0c53KejDcVjk&usp=sharing"
    },
    {
      id: 7,
      name: "Ultradian 0630 Globe",
      gi: "jasonsummerfall@gmail.com",
      status: "active",
      note: "Best focus window at 0630 — tactical start-of-day world.",
      url: "https://www.google.com/maps/d/view?mid=1YvKVpFKPNIfOminh8D-wmJEwOtvXulg&usp=sharing"
    },
    {
      id: 8,
      name: "Ultradian 0930 Globe",
      gi: "jasonsummerfall@gmail.com",
      status: "active",
      note: "Mid-morning rhythm alignment at 0930.",
      url: "https://www.google.com/maps/d/view?mid=1AepqoocnHY-H-Yjmdb03fZ3wVNFINm8&usp=sharing"
    },
    {
      id: 9,
      name: "Closed-Loop Motion Theater",
      gi: "jasonsummerfall@gmail.com",
      status: "active",
      note: "First digital closed-loop theater based on Motion Proof.",
      url: "https://www.google.com/maps/d/view?mid=1POvNXR-46CR7qju1OnWYkK80n5BFxwE&usp=sharing"
    },
    {
      id: 10,
      name: "Fisherman World",
      gi: "ttthefisherman3560@gmail.com",
      status: "active",
      note: "Operational fishing corridors and economic waterways.",
      url: "https://www.google.com/maps/d/view?mid=17Gm3dDAMvQVSCG_GyYsgpAo56qbNu6Q&usp=sharing"
    },
    {
      id: 11,
      name: "FlightLine Training Globe",
      gi: "theflightlinehq@gmail.com",
      status: "active",
      note: "Training sector globe for all networks — situational awareness and initiative practice.",
      url: "https://www.google.com/maps/d/view?mid=1IkYcGhF3GuFwgGjruV-n3mX61Gm7XgA&usp=sharing"
    },
    {
      id: 12,
      name: "FlightLine HQ Globe",
      gi: "theflightlinehq@gmail.com",
      status: "active",
      note: "Central HQ globe for global FlightLine operations.",
      url: "https://www.google.com/maps/d/view?mid=14Sl2Gec79x4JjCCqQY4BTaA15FZ8XLI&usp=sharing"
    },
    {
      id: 13,
      name: "Taylor Architect Globe A",
      gi: "taylor@theflightlinehq.com",
      status: "active",
      note: "Specialized tower alignments for BTC circulation.",
      url: "https://www.google.com/maps/d/view?mid=19JLNnlN-lVyidq1LHFQeo7dpsahOqR8&usp=sharing"
    },
    {
      id: 14,
      name: "Taylor Architect Globe B",
      gi: "taylor@theflightlinehq.com",
      status: "active",
      note: "Primary architect layout for corridor series.",
      url: "https://www.google.com/maps/d/view?mid=1t8ZEVu1kYLnk3Ol1MfOdE40CDfUaDVk&usp=sharing"
    },
    {
      id: 15,
      name: "Taylor Architect Globe C",
      gi: "taylor@theflightlinehq.com",
      status: "active",
      note: "Expansion grid for regional towers.",
      url: "https://www.google.com/maps/d/view?mid=19vsp4qXpTEHHFDBoaZgMuNltN1GMq5U&usp=sharing"
    },
    {
      id: 16,
      name: "Taylor Architect Globe D",
      gi: "taylor@theflightlinehq.com",
      status: "active",
      note: "Supporting grid for future DSX channels.",
      url: "https://www.google.com/maps/d/view?mid=1-C0P_0hPp10uK93rRLYennnIPbh3jsg&usp=sharing"
    },

    // 017–032 — Clear Sky Flight Crew (scheduled)
    {
      id: 17,
      name: "Clear Sky 17th",
      gi: "Clear Sky Flight Crew",
      status: "secret",
      note: "Flight Crew Officer sector — 17th.",
      url: "",
      openDate: "Jan 2026"
    },
    {
      id: 18,
      name: "Clear Sky 16th",
      gi: "Clear Sky Flight Crew",
      status: "secret",
      note: "Flight Crew Officer sector — 16th.",
      url: "",
      openDate: "Feb 2026"
    },
    {
      id: 19,
      name: "Clear Sky 15th",
      gi: "Clear Sky Flight Crew",
      status: "secret",
      note: "Flight Crew Officer sector — 15th.",
      url: "",
      openDate: "Mar 2026"
    },
    {
      id: 20,
      name: "Clear Sky 14th",
      gi: "Clear Sky Flight Crew",
      status: "secret",
      note: "Flight Crew Officer sector — 14th.",
      url: "",
      openDate: "Apr 2026"
    },
    {
      id: 21,
      name: "Clear Sky 13th",
      gi: "Clear Sky Flight Crew",
      status: "secret",
      note: "Flight Crew Officer sector — 13th.",
      url: "",
      openDate: "May 2026"
    },
    {
      id: 22,
      name: "Clear Sky 12th",
      gi: "Clear Sky Flight Crew",
      status: "secret",
      note: "Flight Crew Officer sector — 12th.",
      url: "",
      openDate: "Jun 2026"
    },
    {
      id: 23,
      name: "Clear Sky 11th",
      gi: "Clear Sky Flight Crew",
      status: "secret",
      note: "Flight Crew Officer sector — 11th.",
      url: "",
      openDate: "Jul 2026"
    },
    {
      id: 24,
      name: "Clear Sky 10th",
      gi: "Clear Sky Flight Crew",
      status: "secret",
      note: "Flight Crew Officer sector — 10th.",
      url: "",
      openDate: "Aug 2026"
    },
    {
      id: 25,
      name: "Clear Sky 9th",
      gi: "Clear Sky Flight Crew",
      status: "secret",
      note: "Flight Crew Officer sector — 9th.",
      url: "",
      openDate: "Sep 2026"
    },
    {
      id: 26,
      name: "Clear Sky 8th",
      gi: "Clear Sky Flight Crew",
      status: "secret",
      note: "Flight Crew Officer sector — 8th.",
      url: "",
      openDate: "Oct 2026"
    },
    {
      id: 27,
      name: "Clear Sky 7th",
      gi: "Clear Sky Flight Crew",
      status: "secret",
      note: "Flight Crew Officer sector — 7th.",
      url: "",
      openDate: "Nov 2026"
    },
    {
      id: 28,
      name: "Clear Sky 6th",
      gi: "Clear Sky Flight Crew",
      status: "secret",
      note: "Flight Crew Officer sector — 6th.",
      url: "",
      openDate: "Dec 2026"
    },
    {
      id: 29,
      name: "Clear Sky 5th",
      gi: "Clear Sky Flight Crew",
      status: "secret",
      note: "Flight Crew Officer sector — 5th.",
      url: "",
      openDate: "Jan 2027"
    },
    {
      id: 30,
      name: "Clear Sky 4th",
      gi: "Clear Sky Flight Crew",
      status: "secret",
      note: "Flight Crew Officer sector — 4th.",
      url: "",
      openDate: "Feb 2027"
    },
    {
      id: 31,
      name: "Clear Sky 3rd",
      gi: "Clear Sky Flight Crew",
      status: "secret",
      note: "Flight Crew Officer sector — 3rd.",
      url: "",
      openDate: "Mar 2027"
    },
    {
      id: 32,
      name: "Clear Sky 2nd",
      gi: "Clear Sky Flight Crew",
      status: "secret",
      note: "Flight Crew Officer sector — 2nd.",
      url: "",
      openDate: "Apr 2027"
    }
  ];

  // 033–100 — Reserved plates under AI-76 DC with month+year opening
  const plateOpenDates = [
    "May 2027", "Jun 2027", "Jul 2027", "Aug 2027", "Sep 2027", "Oct 2027", "Nov 2027", "Dec 2027",
    "Jan 2028", "Feb 2028", "Mar 2028", "Apr 2028", "May 2028", "Jun 2028", "Jul 2028", "Aug 2028",
    "Sep 2028", "Oct 2028", "Nov 2028", "Dec 2028", "Jan 2029", "Feb 2029", "Mar 2029", "Apr 2029",
    "May 2029", "Jun 2029", "Jul 2029", "Aug 2029", "Sep 2029", "Oct 2029", "Nov 2029", "Dec 2029",
    "Jan 2030", "Feb 2030", "Mar 2030", "Apr 2030", "May 2030", "Jun 2030", "Jul 2030", "Aug 2030",
    "Sep 2030", "Oct 2030", "Nov 2030", "Dec 2030", "Jan 2031", "Feb 2031", "Mar 2031", "Apr 2031",
    "May 2031", "Jun 2031", "Jul 2031", "Aug 2031", "Sep 2031", "Oct 2031", "Nov 2031", "Dec 2031",
    "Jan 2032", "Feb 2032", "Mar 2032", "Apr 2032", "May 2032", "Jun 2032", "Jul 2032", "Aug 2032",
    "Sep 2032", "Oct 2032", "Nov 2032", "Dec 2032"
  ];

  for (let i = 33; i <= 100; i++) {
    worlds.push({
      id: i,
      name: `Reserved World #${String(i).padStart(3, "0")}`,
      gi: "Unassigned Architect",
      status: "inactive",
      note: "Reserved plate for future globe architect under AI-76 DC Division Command.",
      url: "",
      openDate: plateOpenDates[i - 33]
    });
  }

  const grid = document.getElementById("planetGrid");

  function renderWorlds(filter = "all") {
    grid.innerHTML = "";
    const filtered = worlds.filter(w => {
      if (filter === "all") return true;
      if (filter === "active") return w.status === "active" || w.status === "enternet";
      if (filter === "secret") return w.status === "secret";
      if (filter === "inactive") return w.status === "inactive";
      if (filter === "tower") return w.status === "enternet";
      return true;
    });

    filtered.forEach(w => {
      const card = document.createElement("div");
      card.className = `world-card ${w.status}`;

      let statusLabel;
      let pillClass;

      if (w.status === "active") {
        statusLabel = "Active Globe";
        pillClass = "pill-active";
      } else if (w.status === "secret") {
        statusLabel = "Clear Sky";
        pillClass = "pill-secret";
      } else if (w.status === "inactive") {
        statusLabel = "Coming Soon";
        pillClass = "pill-inactive";
      } else if (w.status === "enternet") {
        statusLabel = "NETTOPIA ENTERNET GATE";
        pillClass = "pill-enternet";
      }

      let openDateLine = "";
      if (w.openDate) {
        openDateLine = `<div class="world-open">Opens: ${w.openDate}</div>`;
      }

      let actionLine = "";
      if (w.status === "active" && w.url) {
        actionLine = `
          <div class="world-actions">
            <button class="open-btn" data-url="${encodeURIComponent(w.url)}">
              Open Globe Window
            </button>
          </div>
        `;
      } else if (w.status === "enternet" && w.url) {
        actionLine = `
          <div class="world-actions">
            <button class="enter-btn" data-url="${encodeURIComponent(w.url)}">
              EnterNET
            </button>
          </div>
        `;
      }

      card.innerHTML = `
        <div class="world-top-row">
          <div class="world-id">WORLD ${String(w.id).padStart(3, "0")}</div>
          <div class="world-pill ${pillClass}">${statusLabel}</div>
        </div>
        <div class="world-name">${w.name}</div>
        <div class="world-gi">GI: ${w.gi}</div>
        <div class="world-note">${w.note}</div>
        ${openDateLine}
        ${actionLine}
      `;

      // Card click behavior
      card.onclick = () => {
        if (w.status === "secret") {
          window.location.href = "frames/frame-secret.html";
        } else if (w.status === "inactive") {
          window.location.href = "frames/frame-inactive.html";
        }
        // Active + enternet are handled by inner buttons so card itself does nothing.
      };

      // Buttons
      const globeBtn = card.querySelector(".open-btn");
      if (globeBtn) {
        globeBtn.addEventListener("click", (event) => {
          event.stopPropagation();
          const encodedUrl = globeBtn.getAttribute("data-url");
          // If you have frame-active.html, keep this:
          window.location.href = "frames/frame-active.html?url=" + encodedUrl;
          // Or to go directly to Google Maps instead:
          // window.open(decodeURIComponent(encodedUrl), "_blank");
        });
      }

      const enterBtn = card.querySelector(".enter-btn");
      if (enterBtn) {
        enterBtn.addEventListener("click", (event) => {
          event.stopPropagation();
          const encodedUrl = enterBtn.getAttribute("data-url");
          // ENTERNET: go straight to Memphis DC Proof Stack
          window.open(decodeURIComponent(encodedUrl), "_blank");
        });
      }

      grid.appendChild(card);
    });
  }

  function filterWorlds(type) {
    renderWorlds(type);
  }

  // Initial render
  renderWorlds("all");
</script>
</body>
</html>
