<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Wolfpack Planetarium Museum</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    /* Base */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html, body {
      width: 100%;
      min-height: 100%;
      font-family: 'Inter', sans-serif;
      background: radial-gradient(circle at top, #050b16, #020309 55%, #000000 100%);
      color: #eefbff;
    }

    body {
      display: flex;
      flex-direction: column;
    }

    /* Header */
    header {
      padding: 24px 16px 18px;
      border-bottom: 1px solid rgba(0, 255, 255, 0.25);
      background: linear-gradient(
        to bottom,
        rgba(0, 0, 0, 0.9),
        rgba(0, 0, 0, 0.7)
      );
      backdrop-filter: blur(8px);
      position: sticky;
      top: 0;
      z-index: 10;
    }

    .header-inner {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .title-block {
      text-align: left;
    }

    h1 {
      font-family: 'Orbitron', sans-serif;
      letter-spacing: 0.35em;
      text-transform: uppercase;
      font-size: 1.4rem;
      color: #00f2ff;
      text-shadow: 0 0 14px rgba(0, 242, 255, 0.7);
      margin-bottom: 4px;
    }

    .subtitle-main {
      font-size: 0.9rem;
      color: #e0faff;
    }

    .subtitle-sub {
      font-size: 0.8rem;
      color: #95c9e0;
      opacity: 0.9;
    }

    .subtitle-division {
      font-size: 0.8rem;
      color: #ffd3ff;
      opacity: 0.95;
      margin-top: 3px;
    }

    .header-row-bottom {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
    }

    /* Legend */
    .legend {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      font-size: 0.8rem;
      color: #c8e6f2;
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
    }

    .dot-active {
      background: #00f2ff;
      box-shadow: 0 0 10px rgba(0, 242, 255, 0.9);
    }

    .dot-secret {
      background: #ff4dff;
      box-shadow: 0 0 10px rgba(255, 77, 255, 0.9);
    }

    .dot-inactive {
      background: #757575;
    }

    /* Controls */
    .controls-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      align-items: center;
      justify-content: flex-end;
    }

    .filter-btn, .ledger-btn {
      border-radius: 999px;
      border: 1px solid rgba(0, 242, 255, 0.7);
      background: transparent;
      color: #dffbff;
      font-size: 0.75rem;
      padding: 6px 14px;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      cursor: pointer;
      transition: 0.18s ease;
      white-space: nowrap;
    }

    .filter-btn:hover,
    .ledger-btn:hover {
      background: #00f2ff;
      color: #000;
      box-shadow: 0 0 16px rgba(0, 242, 255, 0.8);
    }

    /* Main */
    main {
      flex: 1;
      padding: 20px 16px 32px;
    }

    .main-inner {
      max-width: 1200px;
      margin: 0 auto;
    }

    .intro-text {
      font-size: 0.9rem;
      color: #ccedf8;
      max-width: 880px;
      margin-bottom: 18px;
    }

    .intro-text strong {
      color: #00f2ff;
      font-weight: 600;
    }

    /* Grid */
    #planetGrid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 18px;
    }

    .world-card {
      border-radius: 16px;
      padding: 14px 14px 12px;
      background: rgba(3, 10, 20, 0.9);
      border: 1px solid rgba(0, 0, 0, 0.7);
      box-shadow: 0 0 18px rgba(0, 0, 0, 0.7);
      transition: transform 0.18s ease, box-shadow 0.18s ease, border-color 0.18s ease;
      cursor: pointer;
    }

    .world-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 0 22px rgba(0, 0, 0, 0.9);
    }

    .world-card.active {
      border-color: rgba(0, 242, 255, 0.8);
      box-shadow: 0 0 22px rgba(0, 242, 255, 0.3);
    }

    .world-card.secret {
      border-color: rgba(255, 77, 255, 0.85);
      box-shadow: 0 0 22px rgba(255, 77, 255, 0.32);
    }

    .world-card.inactive {
      border-color: #3b3b3b;
      opacity: 0.78;
    }

    /* Special NETTOPIA / ENTERNET tile (WORLD 002) */
    .world-card.enternet {
      background: radial-gradient(circle at top, #241400, #070308 60%, #000000 100%);
      border-color: #ffde59;
      box-shadow: 0 0 26px rgba(255, 222, 89, 0.6);
    }

    .world-card.enternet .world-id {
      color: #ffde59;
    }

    .world-card.enternet .world-pill {
      border-color: #ffde59;
      color: #ffde59;
    }

    .world-card.enternet .world-name {
      color: #fff6cf;
    }

    .world-card.enternet .open-btn {
      border-color: #ffde59;
      color: #fff6cf;
    }

    .world-card.enternet .open-btn:hover {
      background: #ffde59;
      color: #000;
      box-shadow: 0 0 18px rgba(255, 222, 89, 0.8);
    }

    .world-top-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 6px;
    }

    .world-id {
      font-size: 0.7rem;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: #9bddef;
    }

    .world-pill {
      font-size: 0.65rem;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      padding: 2px 8px;
      border-radius: 999px;
    }

    .pill-active {
      border: 1px solid #00f2ff;
      color: #00f2ff;
    }

    .pill-secret {
      border: 1px solid #ff4dff;
      color: #ffb5ff;
    }

    .pill-inactive {
      border: 1px solid #757575;
      color: #b5b5b5;
    }

    .world-name {
      font-size: 0.95rem;
      color: #f9fdff;
      margin-bottom: 4px;
    }

    .world-gi {
      font-size: 0.75rem;
      color: #97c7de;
      margin-bottom: 4px;
    }

    .world-note {
      font-size: 0.75rem;
      color: #b4d3e5;
      margin-bottom: 4px;
    }

    .world-open {
      font-size: 0.75rem;
      color: #ffd3ff;
    }

    .world-actions {
      margin-top: 8px;
      display: flex;
      justify-content: flex-end;
    }

    .open-btn {
      border-radius: 999px;
      border: 1px solid #00f2ff;
      background: transparent;
      color: #dffbff;
      font-size: 0.72rem;
      padding: 4px 10px;
      letter-spacing: 0.09em;
      text-transform: uppercase;
      cursor: pointer;
      transition: 0.18s ease;
    }

    .open-btn:hover {
      background: #00f2ff;
      color: #000;
      box-shadow: 0 0 14px rgba(0, 242, 255, 0.8);
    }

    /* Footer */
    footer {
      border-top: 1px solid rgba(0, 255, 255, 0.15);
      padding: 14px 16px 22px;
      font-size: 0.75rem;
      color: #95bfd5;
      text-align: center;
      background: #020408;
    }

    footer .footer-inner {
      max-width: 900px;
      margin: 0 auto;
      line-height: 1.5;
    }

    /* Ledger Modal */
    #ledgerModal {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      background: rgba(0, 0, 0, 0.85);
      z-index: 20;
    }

    .ledger-box {
      width: 90%;
      max-width: 420px;
      background: #050b14;
      border-radius: 16px;
      border: 1px solid #00f2ff;
      padding: 18px 18px 14px;
      box-shadow: 0 0 24px rgba(0, 242, 255, 0.5);
      text-align: left;
    }

    .ledger-title {
      font-family: 'Orbitron', sans-serif;
      font-size: 1rem;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: #00f2ff;
      margin-bottom: 6px;
    }

    .ledger-text {
      font-size: 0.8rem;
      color: #cce8f5;
      margin-bottom: 10px;
    }

    .ledger-actions {
      display: flex;
      justify-content: flex-end;
      gap: 8px;
      margin-top: 6px;
    }

    .btn-secondary {
      border-radius: 999px;
      border: 1px solid #566879;
      background: transparent;
      color: #c8d7e3;
      font-size: 0.75rem;
      padding: 5px 12px;
      cursor: pointer;
      transition: 0.18s ease;
    }

    .btn-secondary:hover {
      background: #1b2833;
    }

    .btn-primary {
      border-radius: 999px;
      border: 1px solid #00f2ff;
      background: #00f2ff;
      color: #000;
      font-size: 0.75rem;
      padding: 5px 12px;
      cursor: pointer;
      transition: 0.18s ease;
    }

    .btn-primary:hover {
      box-shadow: 0 0 16px rgba(0, 242, 255, 0.7);
    }

    @media (max-width: 700px) {
      .header-row-bottom {
        flex-direction: column;
        align-items: flex-start;
      }

      .controls-row {
        justify-content: flex-start;
      }
    }
  </style>
</head>
<body>

<header>
  <div class="header-inner">
    <div class="title-block">
      <h1>WOLFPACK PLANETARIUM</h1>
      <div class="subtitle-main">Digital Art • Globes • Planetary Leasing Museum</div>
      <div class="subtitle-sub">Powered by GI (Google Identification) &amp; FlightLine Memphis DC</div>
      <div class="subtitle-division">
        AI-76 DC • 7th Aerospace • 6th Infrastructure • 17th Division Command
      </div>
    </div>

    <div class="header-row-bottom">
      <div class="legend">
        <div class="legend-item">
          <span class="dot dot-active"></span><span>Active Globes (001–016)</span>
        </div>
        <div class="legend-item">
          <span class="dot dot-secret"></span><span>Clear Sky (017–032)</span>
        </div>
        <div class="legend-item">
          <span class="dot dot-inactive"></span><span>Division Plates (033–108)</span>
        </div>
      </div>

      <div class="controls-row">
        <button class="filter-btn" onclick="filterWorlds('all')">All</button>
        <button class="filter-btn" onclick="filterWorlds('active')">Active</button>
        <button class="filter-btn" onclick="filterWorlds('secret')">Clear Sky</button>
        <button class="filter-btn" onclick="filterWorlds('inactive')">Division Plates</button>
        <button class="ledger-btn" onclick="openLedger()">Join Ledger</button>
      </div>
    </div>
  </div>
</header>

<main>
  <div class="main-inner">
    <p class="intro-text">
      Each WORLD tile represents a digital globe. <strong>Worlds 001–016</strong> are architect-built
      active globes. <strong>017–032</strong> are Clear Sky Flight Crew sectors with staggered opening
      windows. <strong>033–100</strong> are captain plates across ATC, BTC, CTC, and DTC inside the
      AI-76 Division. <strong>101–108</strong> are Echo Company (E.co) support wings — S1–S4 Overt,
      S5–S8 Covert — all coming online under MTP Gemini.
    </p>

    <section id="planetGrid"></section>
  </div>
</main>

<footer>
  <div class="footer-inner">
    Worlds 001–016: Architect FlightLine Battalion • 017–032: Skyline Squadron (Clear Sky) •
    033–108: AI-76 DC Division Plates (ATC, BTC, CTC, DTC &amp; E.co Support Wings).
    Ledger intake remains GI-only (email) to keep sovereignty simple and verifiable.
  </div>
</footer>

<!-- Ledger Modal -->
<div id="ledgerModal">
  <div class="ledger-box">
    <div class="ledger-title">Global Ledger</div>
    <p class="ledger-text">
      This ledger records one thing: your GI (Google email) and which worlds you want to explore or lease.
      When you continue, your mail app opens a pre-filled message to FlightLine HQ so the Division can seat you.
    </p>
    <div class="ledger-actions">
      <button class="btn-secondary" onclick="closeLedger()">Cancel</button>
      <button class="btn-primary" onclick="sendLedgerEmail()">Open Email</button>
    </div>
  </div>
</div>

<script>
  // Ledger functions
  function openLedger() {
    document.getElementById("ledgerModal").style.display = "flex";
  }

  function closeLedger() {
    document.getElementById("ledgerModal").style.display = "none";
  }

  function sendLedgerEmail() {
    const subject = encodeURIComponent("Wolfpack Planetarium Ledger Entry");
    const body = encodeURIComponent(
      [
        "I want to be recorded on the Global Ledger.",
        "",
        "GI (Google email):",
        "World(s) of interest:",
        "",
        "— Sent from Wolfpack Planetarium Museum (AI-76 DC Division)"
      ].join("\n")
    );
    window.location.href = `mailto:taylor@theflightlinehq.com?subject=${subject}&body=${body}`;
  }

  // Helper to compute Month/Year for reserved/Division plates 033–108
  const MONTHS = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];
  function computeReservedOpenDate(id) {
    // Start Jan 2027 at WORLD 033 and walk forward by month
    if (id < 33) return "";
    const offset = id - 33; // 0-based month offset
    const year = 2027 + Math.floor(offset / 12);
    const month = MONTHS[offset % 12];
    return `${month} ${year}`;
  }

  // World data
  const worlds = [
    // Active 001–016 (maps open via tile window)
    {
      id: 1,
      name: "Googol Globe 1/HZ",
      gi: "keithdtaylorsr1@gmail.com",
      status: "active",
      note: "Primary architect globe and Memphis DC anchor.",
      url: "https://www.google.com/maps/d/u/0/edit?mid=1C3KB_iiNrTCZIFGGZblwJwUyIWn66iA&usp=sharing"
    },
    // SPECIAL NETTOPIA / ENTERNET GLOBE
    {
      id: 2,
      name: "Googol Globe 2/HZ — NETTOPIA, GLOBAL",
      gi: "qrfcodeveterans@gmail.com",
      status: "active",
      note: "Access outernet from the FlightLine via Memphis DC Proof Stack.",
      url: "https://taylor7617.github.io/flightline-memphisdc/#proof-stack",
      special: "enternet",
      pillOverride: "NETTOPIA, GLOBAL",
      buttonLabel: "ENTERNET"
    },
    {
      id: 3,
      name: "Summerfall Core Globe A",
      gi: "jasonsummerfall@gmail.com",
      status: "active",
      note: "Core futurist theater layout.",
      url: "https://www.google.com/maps/d/u/1/edit?mid=1LblIOaH1g2PviOrtod-4GnVWCJN-tRM&usp=sharing"
    },
    {
      id: 4,
      name: "Summerfall Core Globe B",
      gi: "jasonsummerfall@gmail.com",
      status: "active",
      note: "Secondary core grid for long-range motion.",
      url: "https://www.google.com/maps/d/u/1/edit?mid=1gFDyz0YofUPX4unNFOaoB1tNBYgPstg&usp=sharing"
    },
    {
      id: 5,
      name: "Summerfall Core Globe C",
      gi: "jasonsummerfall@gmail.com",
      status: "active",
      note: "Extended perimeter and staging corridors.",
      url: "https://www.google.com/maps/d/u/1/edit?mid=1SLe7j44A3avlF3HIbLdMFFsuqmDcImk&usp=sharing"
    },
    {
      id: 6,
      name: "Summerfall Core Globe D",
      gi: "jasonsummerfall@gmail.com",
      status: "active",
      note: "High-altitude globe for macro-view planning.",
      url: "https://www.google.com/maps/d/u/1/edit?mid=1gFDyz0YofUPX4unNFOaoB1tNBYgPstg&usp=sharing"
    },
    {
      id: 7,
      name: "Ultradian 0630 Globe",
      gi: "jasonsummerfall@gmail.com",
      status: "active",
      note: "Best focus window at 0630 — tactical start-of-day world.",
      url: "https://www.google.com/maps/d/u/1/edit?mid=1YvKVpFKPNIfOminh8D-wmJEwOtvXulg&usp=sharing"
    },
    {
      id: 8,
      name: "Ultradian 0930 Globe",
      gi: "jasonsummerfall@gmail.com",
      status: "active",
      note: "Mid-morning rhythm alignment at 0930.",
      url: "https://www.google.com/maps/d/u/1/edit?mid=1AepqoocnHY-H-Yjmdb03fZ3wVNFINm8&usp=sharing"
    },
    {
      id: 9,
      name: "Closed-Loop Motion Theater",
      gi: "jasonsummerfall@gmail.com",
      status: "active",
      note: "First digital closed-loop theater based on Motion Proof.",
      url: "https://www.google.com/maps/d/u/1/edit?mid=1POvNXR-46CR7qju1OnWYkK80n5BFxwE&usp=sharing"
    },
    {
      id: 10,
      name: "Fisherman World",
      gi: "ttthefisherman3560@gmail.com",
      status: "active",
      note: "Operational fishing corridors and economic waterways.",
      url: "https://www.google.com/maps/d/u/6/edit?mid=17Gm3dDAMvQVSCG_GyYsgpAo56qbNu6Q&usp=sharing"
    },
    {
      id: 11,
      name: "FlightLine HQ Globe",
      gi: "theflightlinehq@gmail.com",
      status: "active",
      note: "Central HQ globe for global FlightLine operations.",
      url: "https://www.google.com/maps/d/u/2/edit?mid=1t8ZEVu1kYLnk3Ol1MfOdE40CDfUaDVk&usp=sharing"
    },
    {
      id: 12,
      name: "Taylor Architect Globe A",
      gi: "taylor@theflightlinehq.com",
      status: "active",
      note: "Primary architect layout for corridor series.",
      url: "https://www.google.com/maps/d/u/2/edit?mid=1-C0P_0hPp10uK93rRLYennnIPbh3jsg&usp=sharing"
    },
    {
      id: 13,
      name: "Taylor Architect Globe B",
      gi: "theflightlinehq@gmail.com",
      status: "active",
      note: "BTC Tower circulation & international travel grid.",
      url: "https://www.google.com/maps/d/edit?mid=1-0hzlDqdjnbGTLPvbIf7WHHX2yF4owk&usp=sharing"
    },
    {
      id: 14,
      name: "Taylor Architect Globe C",
      gi: "taylor@theflightlinehq.com",
      status: "active",
      note: "Sub-corridor optimization and routing lanes.",
      url: "https://www.google.com/maps/d/edit?mid=1t8ZEVu1kYLnk3Ol1MfOdE40CDfUaDVk&usp=sharing"
    },
    {
      id: 15,
      name: "Taylor Architect Globe D",
      gi: "taylor@theflightlinehq.com",
      status: "active",
      note: "Specialized tower alignments.",
      url: "https://www.google.com/maps/d/edit?mid=19vsp4qXpTEHHFDBoaZgMuNltN1GMq5U&usp=sharing"
    },
    {
      id: 16,
      name: "Taylor Architect Globe E",
      gi: "taylor@theflightlinehq.com",
      status: "active",
      note: "Supporting grid for future DSX channels.",
      url: "https://www.google.com/maps/d/edit?mid=1-C0P_0hPp10uK93rRLYennnIPbh3jsg&usp=sharing"
    },

    // Clear Sky 017–032 (Flight Crew) with opening dates
    { id: 17, name: "Clear Sky 17th", gi: "Clear Sky Flight Crew", status: "secret", note: "Flight Crew Officer sector — 17th.", url: "frames/frame-secret.html", openDate: "Jan 2026" },
    { id: 18, name: "Clear Sky 16th", gi: "Clear Sky Flight Crew", status: "secret", note: "Flight Crew Officer sector — 16th.", url: "frames/frame-secret.html", openDate: "Feb 2026" },
    { id: 19, name: "Clear Sky 15th", gi: "Clear Sky Flight Crew", status: "secret", note: "Flight Crew Officer sector — 15th.", url: "frames/frame-secret.html", openDate: "Mar 2026" },
    { id: 20, name: "Clear Sky 14th", gi: "Clear Sky Flight Crew", status: "secret", note: "Flight Crew Officer sector — 14th.", url: "frames/frame-secret.html", openDate: "Apr 2026" },
    { id: 21, name: "Clear Sky 13th", gi: "Clear Sky Flight Crew", status: "secret", note: "Flight Crew Officer sector — 13th.", url: "frames/frame-secret.html", openDate: "May 2026" },
    { id: 22, name: "Clear Sky 12th", gi: "Clear Sky Flight Crew", status: "secret", note: "Flight Crew Officer sector — 12th.", url: "frames/frame-secret.html", openDate: "Jun 2026" },
    { id: 23, name: "Clear Sky 11th", gi: "Clear Sky Flight Crew", status: "secret", note: "Flight Crew Officer sector — 11th.", url: "frames/frame-secret.html", openDate: "Jul 2026" },
    { id: 24, name: "Clear Sky 10th", gi: "Clear Sky Flight Crew", status: "secret", note: "Flight Crew Officer sector — 10th.", url: "frames/frame-secret.html", openDate: "Aug 2026" },
    { id: 25, name: "Clear Sky 9th",  gi: "Clear Sky Flight Crew", status: "secret", note: "Flight Crew Officer sector — 9th.",  url: "frames/frame-secret.html", openDate: "Sep 2026" },
    { id: 26, name: "Clear Sky 8th",  gi: "Clear Sky Flight Crew", status: "secret", note: "Flight Crew Officer sector — 8th.",  url: "frames/frame-secret.html", openDate: "Oct 2026" },
    { id: 27, name: "Clear Sky 7th",  gi: "Clear Sky Flight Crew", status: "secret", note: "Flight Crew Officer sector — 7th.",  url: "frames/frame-secret.html", openDate: "Nov 2026" },
    { id: 28, name: "Clear Sky 6th",  gi: "Clear Sky Flight Crew", status: "secret", note: "Flight Crew Officer sector — 6th.",  url: "frames/frame-secret.html", openDate: "Dec 2026" },
    { id: 29, name: "Clear Sky 5th",  gi: "Clear Sky Flight Crew", status: "secret", note: "Flight Crew Officer sector — 5th.",  url: "frames/frame-secret.html", openDate: "Jan 2027" },
    { id: 30, name: "Clear Sky 4th",  gi: "Clear Sky Flight Crew", status: "secret", note: "Flight Crew Officer sector — 4th.",  url: "frames/frame-secret.html", openDate: "Feb 2027" },
    { id: 31, name: "Clear Sky 3rd",  gi: "Clear Sky Flight Crew", status: "secret", note: "Flight Crew Officer sector — 3rd.",  url: "frames/frame-secret.html", openDate: "Mar 2027" },
    { id: 32, name: "Clear Sky 2nd",  gi: "Clear Sky Flight Crew", status: "secret", note: "Flight Crew Officer sector — 2nd.",  url: "frames/frame-secret.html", openDate: "Apr 2027" }
  ];

  // Captain worlds 033–100 (ATC, BTC, CTC, DTC)
  const captainCompanies = [
    { code: "ATC", name: "Alpha Troop Company", start: 33, end: 49 },
    { code: "BTC", name: "Bravo Troop Company", start: 50, end: 66 },
    { code: "CTC", name: "Charlie Troop Company", start: 67, end: 83 },
    { code: "DTC", name: "Delta Troop Company", start: 84, end: 100 }
  ];

  captainCompanies.forEach(company => {
    for (let id = company.start; id <= company.end; id++) {
      const index = id - company.start + 1;
      worlds.push({
        id,
        name: `${company.code} Captain Plate ${String(index).padStart(2, "0")}`,
        gi: "Unassigned Captain",
        status: "inactive",
        note: `${company.code} (${company.name}) — Aerospace Infrastructure 76 Division captain world.`,
        unit: company.code,
        url: "",
        openDate: computeReservedOpenDate(id)
      });
    }
  });

  // Echo Company (E.co) Support Wings 101–108
  const ecoWorlds = [
    { id: 101, name: "E.co Overt S1",  note: "S1 — Personnel & Roster (Overt Ops)." },
    { id: 102, name: "E.co Overt S2",  note: "S2 — Intel & Recon (Overt Ops)." },
    { id: 103, name: "E.co Overt S3",  note: "S3 — Ops & Scheduling (Overt Ops)." },
    { id: 104, name: "E.co Overt S4",  note: "S4 — Logistics & Supply (Overt Ops)." },
    { id: 105, name: "E.co Covert S5", note: "S5 — Civic Influence (Covert Ops)." },
    { id: 106, name: "E.co Covert S6", note: "S6 — Signals & Data (Covert Ops)." },
    { id: 107, name: "E.co Covert S7", note: "S7 — Training & Doctrine (Covert Ops)." },
    { id: 108, name: "E.co Covert S8", note: "S8 — Finance & Channels (Covert Ops)." }
  ];

  ecoWorlds.forEach(e => {
    worlds.push({
      id: e.id,
      name: e.name,
      gi: "Echo Company (E.co)",
      status: "inactive",
      note: e.note + " — under AI-76 DC Division Command.",
      unit: "E.co",
      url: "",
      openDate: computeReservedOpenDate(e.id)
    });
  });

  const grid = document.getElementById("planetGrid");

  function renderWorlds(filter = "all") {
    grid.innerHTML = "";
    const filtered = worlds.filter(w => filter === "all" ? true : w.status === filter);

    filtered.forEach(w => {
      const card = document.createElement("div");
      const specialClass = w.special ? w.special : "";
      card.className = `world-card ${w.status} ${specialClass}`;

      const statusLabel =
        w.pillOverride ? w.pillOverride :
        w.status === "active" ? "Active Globe" :
        w.status === "secret" ? "Clear Sky" :
        "Coming Soon";

      const pillClass =
        w.status === "active" ? "pill-active" :
        w.status === "secret" ? "pill-secret" :
        "pill-inactive";

      let openDateLine = "";
      if (w.openDate) {
        openDateLine = `<div class="world-open">Opens: ${w.openDate}</div>`;
      }

      let actionLine = "";
      if (w.status === "active" && w.url) {
        const buttonText = w.buttonLabel || "Open Globe Window";
        actionLine = `
          <div class="world-actions">
            <button class="open-btn" data-url="${encodeURIComponent(w.url)}">
              ${buttonText}
            </button>
          </div>
        `;
      }

      card.innerHTML = `
        <div class="world-top-row">
          <div class="world-id">WORLD ${String(w.id).padStart(3, "0")}</div>
          <div class="world-pill ${pillClass}">${statusLabel}</div>
        </div>
        <div class="world-name">${w.name}</div>
        <div class="world-gi">GI: ${w.gi}</div>
        <div class="world-note">${w.note}</div>
        ${openDateLine}
        ${actionLine}
      `;

      // Card click behavior:
      card.onclick = () => {
        if (w.status === "secret") {
          window.location.href = "frames/frame-secret.html";
        } else if (w.status === "inactive") {
          window.location.href = "frames/frame-inactive.html";
        }
        // For active: card itself does nothing; button handles globe window.
      };

      // Button click for active globes (tile window)
      const btn = card.querySelector(".open-btn");
      if (btn) {
        btn.addEventListener("click", (event) => {
          event.stopPropagation();
          const encodedUrl = btn.getAttribute("data-url");
          window.location.href = "frames/frame-active.html?url=" + encodedUrl;
        });
      }

      grid.appendChild(card);
    });
  }

  function filterWorlds(type) {
    renderWorlds(type);
  }

  // Initial render
  renderWorlds("all");
</script>
</body>
</html>
